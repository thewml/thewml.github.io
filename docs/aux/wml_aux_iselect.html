<!DOCTYPE
    html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US">
<head>
<title>Website META Language (WML), Documentation: Auxiliaries / iSelect</title>
<link rel="stylesheet" href="../../style.css" type="text/css" media="screen, projection" title="Normal" />
<meta name="Copyright" content="1996-2001 Engelschall, Germany." />
<meta name="Author"    content="WML, wml@master.thewml.org"    />
<meta name="Generator" content="WML 2.0.9 (18-Oct-2002)"    />
<meta name="Modified"  content="2009-02-20 16:16:33"    />
</head>
<body>
<div class="navbar" id="navbar">
    <a href="http://swpat.ffii.org/"
       title="Stop Software Patents!"><img
       src="../../com/navbar/no-e-patents.png" alt="Stop Software Patents!"
     /></a><br />
    <img src="../../com/navbar/button-n-sw.gif" alt="Free Software" /><br />
    <img src="../../com/navbar/button-i-wml.gif" alt="WML" /><br />
<ul class="navbarmain">
<li>
<a href="./../../">Title</a>
</li>
<li>
<a href="./../../about/">About</a>
</li>
<li>
<a href="./../../news/">News</a>
</li>
<li>
<a href="./../">Docs</a>
<br />
<ul class="navbarnested">
<li>
<a href="./../frontend.html">Frontends</a>
</li>
<li>
<a href="./../backend.html">Backends</a>
</li>
<li>
<a href="./../incl.html">Includes</a>
</li>
<li>
<a href="./../aux.html">Auxilliaries</a>
</li>
</ul>
</li>
<li>
<a href="./../../example/">Example</a>
</li>
<li>
<a href="./../../distrib/index.phtml">Distrib</a>
</li>
<li>
<a href="./../../related/">Related</a>
</li>
</ul>
</div>
<div class="main" id="main">
        <h1>Documentation: Auxiliaries / iSelect</h1>
        <!-- BEGIN OF ACTUAL PAGE CONTENTS -->
        
        
<p>
<table class="snb" summary="">
<tr>
<td>
<a href="index.html">Introduction</a>
</td>
<td>
<a href="frontend.html">Frontends</a>
</td>
<td>
<a href="backend.html">Backends</a>
</td>
<td>
<a href="incl.html">Includes</a>
</td>
<td>
<a href="aux.html">Auxilliaries</a>
</td>
</tr>
</table>
<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>iSelect -- Interactive Selection Tool</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@master.thewml.org" />
</head>
<body style="background-color: white">
<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->
<ul>
	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#version">VERSION</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<ul>
		<li><a href="#intend">Intend</a></li>
		<li><a href="#input_data">Input Data</a></li>
		<li><a href="#selections">Selections</a></li>
		<li><a href="#output_data">Output Data</a></li>
	</ul>
	<li><a href="#options">OPTIONS</a></li>
	<ul>
		<li><a href="#input_options">Input Options</a></li>
		<li><a href="#display_options">Display Options</a></li>
		<li><a href="#output_options">Output Options</a></li>
		<li><a href="#giving_feedback">Giving Feedback</a></li>
	</ul>
	<li><a href="#keystrokes">KEYSTROKES</a></li>
	<ul>
		<li><a href="#cursor_movement">Cursor Movement</a></li>
		<li><a href="#line_selection">Line Selection</a></li>
		<li><a href="#others">Others</a></li>
	</ul>
	<li><a href="#example">EXAMPLE</a></li>
	<li><a href="#author">AUTHOR</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
</ul>
<!-- INDEX END -->
<hr />
<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>iSelect -- Interactive Selection Tool</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<p><strong>iselect</strong>
[<strong>-d</strong> <em>STR</em>,<em>STR</em>]
[<strong>-c</strong>]
[<strong>-f</strong>]
[<strong>-a</strong>]
[<strong>-e</strong>]
[<strong>-p</strong> <em>NUM</em>]
[<strong>-k</strong> <em>KEY</em>[:<em>OKEY</em>]]
[<strong>-m</strong>]
[<strong>-n</strong> <em>STR</em>]
[<strong>-t</strong> <em>STR</em>]
[<strong>-S</strong>]
[<strong>-K</strong>]
[<strong>-P</strong>]
[<strong>-Q</strong> <em>STR</em>]
[<em>line1</em> <em>line2</em> ...]</p>
<p><strong>iselect</strong>
[<strong>-V</strong>]</p>
<p>
</p>
<hr />
<h1><a name="version">VERSION</a></h1>
<p>@V@</p>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>
</p>
<h2><a name="intend">Intend</a></h2>
<p>iSelect is an interactive line selection tool for ASCII files, operating via a
full-screen Curses-based terminal session. It can be used either as an user
interface frontend controlled by a Bourne-Shell, Perl or other type of script
backend as its wrapper or in batch as a pipe filter (usually between <em>grep</em>
and the final executing command). In other words: iSelect was designed to be
used for any types of interactice line-based selections.</p>
<p>
</p>
<h2><a name="input_data">Input Data</a></h2>
<p>Input is read either from the command line (<em>line1</em> <em>line2</em> ...) where each
argument corresponds to one buffer line or from <em>stdin</em> (when no arguments
are given) where the buffer lines are determined according to the newline
characters.</p>
<p>You can additionally let substrings displayed in Bold mode for non-selectable
lines (because the selectable lines are always displayed bold) by using the
construct ``<code>&lt;b&gt;</code>...<code>&lt;/b&gt;</code>'' as in HTML.</p>
<p>
</p>
<h2><a name="selections">Selections</a></h2>
<p>The selection is either just a single line (default) or multiple lines (option
<strong>-m</strong>). Per default no lines are selectable. If a line contains the string
``<code>&lt;s&gt;</code>'' (or a string with different delimiters configured via
option <strong>-d</strong>) at any position this string is stripped and the line is
selectable. Its result (printed to <em>stdout</em>) is the line contents itself (but
without the ``<code>&lt;s&gt;</code>'' string of course). If option <strong>-a</strong> is used all
lines are selectable and their result is again the line itself, i.e. using
option <strong>-a</strong> is the same as adding ``<code>&lt;s&gt;</code>'' to every line of the
input data. When you want a specific result (i.e. not just the line contents
itself), you have to use the special variant ``<code>&lt;s:result text&gt;</code>''
which results in the output ``<code>result text</code>'' when the corresponding line is
selected.</p>
<p>When you use a specific result via ``<code>&lt;s:result text&gt;</code>'' the <em>result
text</em> can contain ``<code>%s[query text]s</code>'' and ``<code>%s[query text]S</code>''
constructs. For every such construct an interactive query is done and the
result replaces the construct. The ``<code>%s[query text]S</code>'' construct is like
``<code>%s[query text]s</code>'' except that the empty string as the query result is not
accepted on input.</p>
<p>The Curses-based full-screen selection is always done via <em>/dev/tty</em>, because
the <em>stdin</em> and <em>stdout</em> filehandles are usually tied to the input and
output data streams.</p>
<p>
</p>
<h2><a name="output_data">Output Data</a></h2>
<p>The output is the line itself or the string given with ``<code>&lt;s:result
textE&lt;gt&gt;</code>''. When multiple line selection mode (option <strong>-m</strong>) is used the
output is all selected lines theirself or their configured result strings.
Output always is written to <em>stdout</em>.</p>
<p>
</p>
<hr />
<h1><a name="options">OPTIONS</a></h1>
<p>
</p>
<h2><a name="input_options">Input Options</a></h2>
<p>These options control how <em>iSelect</em> parses its input.</p>
<dl>
<dt><strong><a name="item__2dd_str_2c__2d_2ddelimiter_3dstr"><strong>-d</strong> <em>STR</em>, <strong>--delimiter=</strong><em>STR</em></a></strong>
<dd>
<p>Sets the delimiters for the selection tags. The default is `<code>&lt;,&gt;</code>',
i.e. the selection tags have to read ``<code>&lt;s&gt;</code>'' and ``<code>&lt;s:result
textE&lt;gt&gt;</code>''</p>
</dd>
</li>
<dt><strong><a name="item__2dc_2c__2d_2dstrip_2dcomments"><strong>-c</strong>, <strong>--strip-comments</strong></a></strong>
<dd>
<p>Strips all sharp comment lines from the input buffer before parsing.</p>
</dd>
</li>
<dt><strong><a name="item__2df_2c__2d_2dforce_2dbrowse"><strong>-f</strong>, <strong>--force-browse</strong></a></strong>
<dd>
<p>Browse always, i.e. even when the input buffer contains no or only one line.</p>
</dd>
</li>
<dt><strong><a name="item__2da_2c__2d_2dall_2dselect"><strong>-a</strong>, <strong>--all-select</strong></a></strong>
<dd>
<p>Force all lines to be selectable.</p>
</dd>
</li>
<dt><strong><a name="item__2de_2c__2d_2dexit_2dno_2dselect"><strong>-e</strong>, <strong>--exit-no-select</strong></a></strong>
<dd>
<p>Exit immediately if no lines are selectable. In this case not even the Curses
screen is initialized.</p>
</dd>
</li>
</dl>
<p>
</p>
<h2><a name="display_options">Display Options</a></h2>
<dl>
<dt><strong><a name="item__2dp_num_2c__2d_2dposition_3dnum"><strong>-p</strong> <em>NUM</em>, <strong>--position=</strong><em>NUM</em></a></strong>
<dd>
<p>Sets the cursor position to line <em>NUM</em>.</p>
</dd>
</li>
<dt><strong><a name="item__2dk_key_5b_3aokey_5d_2c__2d_2dkey_3dkey_5b_3aokey"><strong>-k</strong> <em>KEY</em>[:<em>OKEY</em>], <strong>--key=</strong><em>KEY[:<em>OKEY</em>]</em></a></strong>
<dd>
<p>Defines an additional input key. Per default <em>OKEY</em> is <code>RETURN</code>, i.e. for
instance <strong>-kf</strong> defines another selection key `<code>f</code>'.</p>
</dd>
</li>
<dt><strong><a name="item__2dm_2c__2d_2dmulti_2dline"><strong>-m</strong>, <strong>--multi-line</strong></a></strong>
<dd>
<p>Enable multi-line selection where you can select more then one line via SPACE
key.</p>
</dd>
</li>
<dt><strong><a name="item__2dn_str_2c__2d_2dname_3dstr"><strong>-n</strong> <em>STR</em>, <strong>--name=</strong><em>STR</em></a></strong>
<dd>
<p>Sets the name string, displayed flush left at the bottom of the
browser window.</p>
</dd>
</li>
<dt><strong><a name="item__2dt_str_2c__2d_2dtitle_3dstr"><strong>-t</strong> <em>STR</em>, <strong>--title=</strong><em>STR</em></a></strong>
<dd>
<p>Sets the title bar string, displayed centered at the bottom of the
browser window.</p>
</dd>
</li>
</dl>
<p>
</p>
<h2><a name="output_options">Output Options</a></h2>
<dl>
<dt><strong><a name="item__2ds_2c__2d_2dstrip_2dresult"><strong>-S</strong>, <strong>--strip-result</strong></a></strong>
<dd>
<p>Strip all leading and trailing whitespaces from the result string.</p>
</dd>
</li>
<dt><strong><a name="item__2dk_2c__2d_2dkey_2dresult"><strong>-K</strong>, <strong>--key-result</strong></a></strong>
<dd>
<p>Prefix the result string (given on <em>stdout</em>) with the corresponding selection
key which was used. This usually is <code>RETURN</code> or <code>KEY_RIGHT</code> but can be any
of the additional keys defined by option <strong>-k</strong>. When you use <strong>-kf</strong> and
select a line <code>Foo Bar</code> with key `<code>f</code>' the result string is ``<code>f:Foo
Bar</code>''.</p>
</dd>
</li>
<dt><strong><a name="item__2dp_2c__2d_2dposition_2dresult"><strong>-P</strong>, <strong>--position-result</strong></a></strong>
<dd>
<p>Prefix the result string (given on <em>stdout</em>) with the corresponding cursor
position followed by a colon. When you selected line <em>N</em> and this line has
the result <code>Foo Bar</code> configured the result string is ``<code>N:Foo Bar</code>''.</p>
</dd>
</li>
<dt><strong><a name="item__2dq_str_2c__2d_2dquit_2dresult_3dstr"><strong>-Q</strong> <em>STR</em>, <strong>--quit-result=</strong><em>STR</em></a></strong>
<dd>
<p>Sets the result string on quit. Default is the empty string.</p>
</dd>
</li>
</dl>
<p>
</p>
<h2><a name="giving_feedback">Giving Feedback</a></h2>
<dl>
<dt><strong><a name="item__2dv_2c__2d_2dversion"><strong>-V</strong>, <strong>--version</strong></a></strong>
<dd>
<p>Displays version identification string.</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="keystrokes">KEYSTROKES</a></h1>
<p>
</p>
<h2><a name="cursor_movement">Cursor Movement</a></h2>
<p>Use these to browse through the selection list.</p>
<pre>
  CURSOR-UP ..... Move cursor one line up
  CURSOR-DOWN ... Move cursor one line down
  PAGE-UP ....... Move cursor one page up
  PAGE-DOWN ..... Move cursor one page down
  g ............. Goto first line
  G ............. Goto last line</pre>
<p>
</p>
<h2><a name="line_selection">Line Selection</a></h2>
<p>Use these to select one line and exit in standard mode or one or more lines in
multi-line mode.</p>
<pre>
  RETURN ........ Select line and exit
  CURSOR-RIGHT .. Select line and exit
  SPACE ......... Select line and stay (multi-line mode only)</pre>
<p>
</p>
<h2><a name="others">Others</a></h2>
<p>Use these to quit iSelect or to show its help and
version page.</p>
<pre>
  q ............. Quit (exit without selection)
  CURSOR-LEFT ... Quit (exit without selection)
  h ............. Help Page
  v ............. Version Page</pre>
<p>
</p>
<hr />
<h1><a name="example">EXAMPLE</a></h1>
<p>As an example we present a real-life situation where iSelect can enhance an
existing functionality. We define two Bash functions (for your
<em>$HOME/.bashrc</em> file) which enhance the built-in `<em>cd</em>' command of the
shell.</p>
<pre>
 cds () {
     (cd $HOME;
      find . -type d -print |\
      sed -e &quot;s;^\.;$HOME;&quot; |\
      sort -u &gt;$HOME/.cdpaths ) &amp;
 }</pre>
<pre>
 cd () {
     if [ -d $1 ]; then
          builtin cd $1
     else
          builtin cd `egrep &quot;/$1[^/]*$&quot; $HOME/.cdpaths |\
                      iselect -a -Q $1 -n &quot;chdir&quot; \
                              -t &quot;Change Directory to...&quot;`
     fi
     PS1=&quot;\u@\h:$PWD\n:&gt; &quot;
 }</pre>
<p>This new `<em>cd</em>' command is compatible with Bashs built-in variant for the case
where the specified directory actually exists. When it doesn't, the original
`<em>cd</em>' would immediately give an error (assuming we have no <em>CDPATH</em>
variable defined). Here this enhanced version tries harder. First it searches
for such a directory in a previously built (via <em>cds</em>) <em>$HOME/.cdpaths</em>
files. When no line was found, iSelect just returns the given directory as the
default result and `<em>cd</em>' then fails as usual with an error message. When
only one directory was found, iSelect directly results this particular line to
`<em>cd</em>'. And only when more then one directory was found, iSelect opens its
Curses-based selection screen and lets the user choose interactively between
those directories. The chosen directory is then finally given to `<em>cd</em>'.</p>
<p>For more useful examples on how to use iSelect, see the <em>contrib/</em> directory
of the iSelect distribution tarball.</p>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<pre>
  Ralf S. Engelschall
  rse@engelschall.com
  www.engelschall.com</pre>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<pre>
  iSelect Home: <a href="http://www.engelschall.com/sw/iselect/">http://www.engelschall.com/sw/iselect/</a></pre>
        
        
        <!-- END OF ACTUAL PAGE CONTENTS -->
</div>
</body>
</html>

