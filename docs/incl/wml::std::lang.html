
<html>
<head>
<title>Website META Language (WML), Documentation: Include File wml::std::lang</title>
<link rel="stylesheet" href="../../style.css" type="text/css" media="screen, projection" title="Normal">
<meta name="Copyright" content="1996-2001 Engelschall, Germany.">
<meta name="Author"    content="WML, wml@master.thewml.org">
<meta name="Generator" content="WML 2.0.9 (18-Oct-2002)">
<meta name="Modified"  content="2005-05-05 12:04:59">
<script type="text/javascript" language="JavaScript">
<!-- Hiding the code
function nb_imgNormal(imgName) {
    if (document.images) {
        document[imgName].src = eval(imgName + '_n.src');
        self.status = '';
    }
}
function nb_imgSelect(imgName) {
    if (document.images) {
        document[imgName].src = eval(imgName + '_s.src');
        self.status = '';
    }
}
function nb_imgOver(imgName, nohints, descript) {
    if (document.images) {
        document[imgName].src = eval(imgName + '_o.src');
        if (! nohints) self.status = descript;
    }
}
// done hiding -->
</script>
<script type="text/javascript" language="JavaScript">
<!-- Hiding the code
function ro_imgNormal(imgName) {
    if (document.images) {
        document[imgName].src = eval(imgName + '_n.src');
        self.status = '';
    }
}
function ro_imgOver(imgName, descript) {
    if (document.images) {
        document[imgName].src = eval(imgName + '_o.src');
        self.status = descript;
    }
}
// done hiding -->
</script>
<script type="text/javascript" language="JavaScript">
<!-- Hiding the code
if (document.images) {
    ro_img_unknown1_n = new Image();
    ro_img_unknown1_n.src = '../../com/navbar/button-n-sw.gif';
    ro_img_unknown1_o = new Image();
    ro_img_unknown1_o.src = '../../com/navbar/button-o-sw.gif';
}
// done hiding -->
</script>
</head>
<body background="../../com/bg/bg.gif" bgcolor="#ffffff" text="#000000" link="#6060c0" alink="#6060f0" vlink="#6060a0">
<table border="0" cellspacing="0" cellpadding="0" summary="">
<tr>
  <td align="left" valign="top">
    <a href="http://swpat.ffii.org/"
       title="Stop Software Patents!"><img
       src="../../com/navbar/no-e-patents.png" alt="Stop Software Patents!"
></a><br>
<a href="../../../" onmouseover="ro_imgOver('ro_img_unknown1', 'Free Software Area'); return true" onmouseout="ro_imgNormal('ro_img_unknown1'); return true" onfocus="ro_imgOver('ro_img_unknown1', 'Free Software Area'); return true" onblur="ro_imgNormal('ro_img_unknown1'); return true"><img name="ro_img_unknown1" src="../../com/navbar/button-n-sw.gif" alt="Free Software Area" border="0"></a><br>
    <img src="../../com/navbar/button-i-wml.gif" alt=""><br>
<ul class="navbarmain">
<li>
<a href="./../../">Title</a>
</li>
<li>
<a href="./../../about/">About</a>
</li>
<li>
<a href="./../../news/">News</a>
</li>
<li>
<a href="./../">Docs</a>
<br />
<ul class="navbarnested">
<li>
<a href="./../frontend.html">Frontends</a>
</li>
<li>
<a href="./../backend.html">Backends</a>
</li>
<li>
<a href="./../incl.html">Includes</a>
</li>
<li>
<a href="./../aux.html">Auxilliaries</a>
</li>
</ul>
</li>
<li>
<a href="./../../example/">Example</a>
</li>
<li>
<a href="./../../distrib/index.phtml">Distrib</a>
</li>
<li>
<a href="./../../related/">Related</a>
</li>
</ul>
    <img src="../../com/imgdot/shared.imgdot-1x1-transp-ffffff.gif" alt="" width="140" height="1" align="bottom" border="0">
    <p>
  </td>
  <td align="center" valign="top">
    <img src="../../com/imgdot/shared.imgdot-1x1-transp-ffffff.gif" alt="" width="5" height="1" align="bottom" border="0">
  </td>
  <td valign="top">
    <table cellspacing="0" cellpadding="0" width="550" summary="">
    <tr>
      <td valign="top">
        <img src="../../com/navbar/headline-docs.gif" alt="Documentation: Include File wml::std::lang"><br>
        <img src="../../com/imgdot/shared.imgdot-1x1-transp-ffffff.gif" alt="" width="550" height="1" align="bottom" border="0"><br>
        <!-- BEGIN OF ACTUAL PAGE CONTENTS -->
        
        
<p>
<table cellspacing="0" cellpadding="0" border="0" summary="">
<tr>
<td>
&nbsp;
&nbsp;
</td>
<td>
<table bgcolor="#666699" cellspacing="0" cellpadding="0" border="0" summary="">
<tr><td></td><td></td><td></td><td></td><td bgcolor="#000000"><img src="../../com/imgdot/shared.imgdot-1x1-transp-ffffff.gif" alt="" width="1" height="1" align="bottom" border="0"></td><td></td><td></td></tr>
<tr>
<td>&nbsp;&nbsp;</td>
<td><font face="Arial,Helvetica">&nbsp;&nbsp;<a href="../index.html" onmouseover="self.status = '../index.html'; return true" onmouseout="self.status = ''; return true" onfocus="self.status = '../index.html'; return true" onblur="self.status = ''; return true"><font color="#ffffff">Introduction</font></a></font>&nbsp;&nbsp;</td>
<td><font face="Arial,Helvetica">&nbsp;&nbsp;<a href="../frontend.html" onmouseover="self.status = '../frontend.html'; return true" onmouseout="self.status = ''; return true" onfocus="self.status = '../frontend.html'; return true" onblur="self.status = ''; return true"><font color="#ffffff">Frontends</font></a></font>&nbsp;&nbsp;</td>
<td><font face="Arial,Helvetica">&nbsp;&nbsp;<a href="../backend.html" onmouseover="self.status = '../backend.html'; return true" onmouseout="self.status = ''; return true" onfocus="self.status = '../backend.html'; return true" onblur="self.status = ''; return true"><font color="#ffffff">Backends</font></a></font>&nbsp;&nbsp;</td>
<td bgcolor="#ccccff">&nbsp;&nbsp;<font face="Arial,Helvetica"><b><a href="../incl.html" onmouseover="self.status = '../incl.html'; return true" onmouseout="self.status = ''; return true" onfocus="self.status = '../incl.html'; return true" onblur="self.status = ''; return true"><font color="#000000">Includes</font></a></b></font>&nbsp;&nbsp;</td>
<td><font face="Arial,Helvetica">&nbsp;&nbsp;<a href="../aux.html" onmouseover="self.status = '../aux.html'; return true" onmouseout="self.status = ''; return true" onfocus="self.status = '../aux.html'; return true" onblur="self.status = ''; return true"><font color="#ffffff">Auxilliaries</font></a></font>&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;</td>
</tr>
</table>
</td>
</tr>
</table>
<img src="../../com/imgdot/shared.imgdot-1x1-000000.gif" alt="" width="550" height="1" align="bottom" border="0"><br>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>wml::std::lang - Multi-Lingual Support</title>
<link rev="made" href="mailto:root@master.thewml.org" />
</head>
<body style="background-color: white">
<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->
<ul>
	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#example">EXAMPLE</a></li>
	<li><a href="#author">AUTHOR</a></li>
	<li><a href="#requires">REQUIRES</a></li>
	<li><a href="#seealso">SEEALSO</a></li>
</ul>
<!-- INDEX END -->
<hr />
<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>wml::std::lang - Multi-Lingual Support</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
<pre>
 &lt;lang:new id=xx [short]&gt;</pre>
<pre>
 &lt;lang:area&gt;
 (xx) ... (yy) ...
 &lt;/lang:area&gt;</pre>
<pre>
 &lt;lang:set-wildcard ...&gt;</pre>
<pre>
 &lt;lang:star: ...*..&gt;
 &lt;lang:star:href: index.*.html|index.html&gt;
 &lt;lang:star:slice: index.*.html&gt;</pre>
<pre>
 &lt;lang:xx&gt;...&lt;/lang:xx&gt;
 &lt;lang:xx: ...&gt;</pre>
<pre>
 &lt;xx&gt;...&lt;/xx&gt;
 &lt;xx: ...&gt;</pre>
<pre>
 &lt;lang:current&gt;
 &lt;lang:list&gt;</pre>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>This include file provides high-level multi-lingual support via Slices. Its
purpose is to define the slices ``<code>LANG_XX</code>'' according to the multi-lingual
selection tags.</p>
<p>The general intend of this slice-based approach is to use the defined slices
in Pass 9 (Slice) via WMLs <strong>-o</strong> option. A typical shebang-line example for
the use with a webserver's content negotiation feature is:</p>
<pre>
        -o (ALL-LANG_*)+LANG_DE:index.html.de</pre>
<p>Since WML 1.7.0, the <code>&lt;lang:star:slice:&gt;</code> tag is an alternative
to this shebang-line.</p>
<p>Before you can use a language, you have to define the corresponding tags via
<code>&lt;lang:new&gt;</code>. For instance when you want to use the languages english
and german, use:</p>
<pre>
 &lt;lang:new id=en&gt;
 &lt;lang:new id=de&gt;</pre>
<p>Then the following tags are defined:</p>
<pre>
 &lt;lang:en&gt;...&lt;/lang:en&gt;
 &lt;lang:de&gt;...&lt;/lang:de&gt;
 &lt;lang:en: ...&gt;
 &lt;lang:de: ...&gt;</pre>
<p>i.e. for both languages a container tag and a simple tag is defined. The
container tag is more readable while the simple tag is nicer for short
variants. When the names <code>lang:xx</code> are still to large for you, you
can use the <code>short</code> attribute to <code>&lt;lang:new&gt;</code></p>
<pre>
 &lt;lang:new id=en short&gt;
 &lt;lang:new id=de short&gt;</pre>
<p>when then leads to the defintion of the shortcut variants:</p>
<pre>
 &lt;en&gt;...&lt;/en&gt;
 &lt;de&gt;...&lt;/de&gt;
 &lt;en: ...&gt;
 &lt;de: ...&gt;</pre>
<p>Additionally you always have the
<code>&lt;lang:area&gt;</code>...<code>&lt;/lang:area&gt;</code> container tag available which
provides an alternative way of selecting the language in its body. It
automatically surrounds the data between `<code>(xx)</code>' start tags with the
corresponding <code>LANG_XX</code> slice.</p>
<p>The following are equal:</p>
<pre>
 &lt;lang:xx: Foo&gt;&lt;lang:yy Bar&gt;
 &lt;lang:xx&gt;Foo&lt;/lang:xx&gt;&lt;lang:yy&gt;Bar&lt;/lang:yy&gt;
 &lt;lang:area&gt;(xx)Foo(yy)Bar&lt;/lang:area&gt;</pre>
<p>Because these three lines internally get expanded to</p>
<pre>
 FooBar
 FooBar
 FooBar</pre>
<p>There is one additional special tag: <code>&lt;lang:star:&gt;</code>. This tag
expands its attribute line like the <code>&lt;lang:xx:&gt;</code> tags but multiple
times. Actually as much as defined languages exists (<code>&lt;lang:new&gt;</code>!).
And in each expansion the asterisks (=stars) in the data gets replaced by the
language identifier.</p>
<p>Is is sometimes convenient to use another wildcard, e.g. when defining
navigation bars. The <code>&lt;lang:set-wildcard&gt;</code> tag does the job.
The attribute becomes the wildcard used in future substitutions. Without
attribute, the default value is restored. You may specify any regular
expression, and do not forget to escape special characters (the
astersisk is in fact ``\\*'').</p>
<pre>
  &lt;lang:set-wildcard &quot;%&quot;&gt;
  &lt;lang:star: index.%.html&gt;
  &lt;lang:set-wildcard&gt;</pre>
<p>There is a more specialized variant named <code>&lt;lang:star:href:&gt;</code>
which is similar to <code>&lt;lang:star:&gt;</code> but treats its attribute value as
a URL part and tries to check if it already exists. If it doesn't exist the
tag expands the value without the star or an alternative value which can be
appended with ``|alt-value''.</p>
<p>The <code>&lt;lang:star:slice:&gt;</code> is another variant to help writing
multi-lingual files quickly. It must come after all occurences of
<code>&lt;lang:new&gt;</code> tags.</p>
<pre>
  &lt;lang:star:slice: index.html.*&gt;</pre>
<p>The `<code>%BASE</code>' form is recognized (see <code>wml(1))</code> and an empty argument is
equivalent to the string `<code>%BASE.*.html</code>'. But note that the use of
this tag instead of the WML shebang line prevents WMk from doing its
job, because WMk can not guess output filenames in this case.</p>
<p>For complex multi-lingual documents, you may want to know in which
language text is currently processed. This is achieved with</p>
<pre>
  &lt;lang:current&gt;</pre>
<p>which always returns current language (as defined in
<code>&lt;lang:new&gt;</code> or an empty string when outside of any language
portion. The macro</p>
<pre>
  &lt;lang:list&gt;</pre>
<p>prints the newline separated list of defined languages.</p>
<p>
</p>
<hr />
<h1><a name="example">EXAMPLE</a></h1>
<p>The following is an example of a webpage <code>index.wml</code> with a multi-lingual
header and hyperlink:</p>
<pre>
<pre>
 &lt;lang:new id=en short&gt;
 &lt;lang:new id=de short&gt;
 &lt;lang:star:slice: index.html.*&gt;
 
 &lt;h1&gt;&lt;en: Welcome&gt;&lt;de: Willkommen&gt;&lt;/h1&gt;
 
 &lt;href name=&quot;The Hyperlink&quot; url=&quot;&lt;lang:star: index.*.html&gt;&quot;&gt;
 &lt;href name=&quot;The Hyperlink&quot; url=&quot;&lt;lang:star:href: index2.*.html|index2.html&gt;&quot;&gt;</pre>
<p>When processed via</p>
<pre>
  $ wml index.wml</pre>
<p>The following two output files are generated (assuming that <em>index2.html</em> and
only <em>index2.de.html</em> exists):</p>
<p>index.html.en:</p>
<pre>
  &lt;h1&gt;Welcome&lt;/h1&gt;
  &lt;a href=&quot;index.en.html&quot;&gt;The Hyperlink&lt;/a&gt;
  &lt;a href=&quot;index2.html&quot;&gt;The Hyperlink&lt;/a&gt;</pre>
<p>index.html.de:</p>
<pre>
  &lt;h1&gt;Willkommen&lt;/h1&gt;
  &lt;a href=&quot;index.de.html&quot;&gt;The Hyperlink&lt;/a&gt;
  &lt;a href=&quot;index2.de.html&quot;&gt;The Hyperlink&lt;/a&gt;</pre>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<pre>
 Ralf S. Engelschall
 rse@engelschall.com
 www.engelschall.com</pre>
<pre>
 Denis Barbier
 barbier@engelschall.com</pre>
<p>
</p>
<hr />
<h1><a name="requires">REQUIRES</a></h1>
<pre>
 Internal: P1, P2, P6, P9
 External: --</pre>
<p>
</p>
<hr />
<h1><a name="seealso">SEEALSO</a></h1>
<p><code>wml_p9_slice(1)</code></p>
        
        
        <!-- END OF ACTUAL PAGE CONTENTS -->
      </td>
    </tr>
    </table>
  </td>
</tr>
</table>

</body>
</html>
